<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `uart_set_wakeup_threshold` fn in crate `esp_idf_bindgen`."><meta name="keywords" content="rust, rustlang, rust-lang, uart_set_wakeup_threshold"><title>esp_idf_bindgen::uart_set_wakeup_threshold - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc fn"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../esp_idf_bindgen/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><div class="sidebar-elems"><p class='location'><a href='index.html'>esp_idf_bindgen</a></p><script>window.sidebarCurrent = {name: 'uart_set_wakeup_threshold', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/esp_idf_bindgen/target/xtensa-esp32-none-elf/debug/build/esp-idf-bindgen-2e942cfa70e62027/out/bindings.rs.html#42677-42680' title='goto source code'>[src]</a></span><span class='in-band'>Function <a href='index.html'>esp_idf_bindgen</a>::<wbr><a class="fn" href=''>uart_set_wakeup_threshold</a></span></h1><pre class='rust fn'>pub unsafe extern &quot;C&quot; fn uart_set_wakeup_threshold(<br>&nbsp;&nbsp;&nbsp;&nbsp;uart_num: <a class="type" href="../esp_idf_bindgen/type.uart_port_t.html" title="type esp_idf_bindgen::uart_port_t">uart_port_t</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;wakeup_threshold: <a class="type" href="../esp_idf_bindgen/libc/type.c_int.html" title="type esp_idf_bindgen::libc::c_int">c_int</a><br>) -&gt; <a class="type" href="../esp_idf_bindgen/type.esp_err_t.html" title="type esp_idf_bindgen::esp_err_t">esp_err_t</a></pre><div class='docblock'><p>@brief Set the number of RX pin signal edges for light sleep wakeup</p>
<p>UART can be used to wake up the system from light sleep. This feature works
by counting the number of positive edges on RX pin and comparing the count to
the threshold. When the count exceeds the threshold, system is woken up from
light sleep. This function allows setting the threshold value.</p>
<p>Stop bit and parity bits (if enabled) also contribute to the number of edges.
For example, letter 'a' with ASCII code 97 is encoded as 0100001101 on the wire
(with 8n1 configuration), start and stop bits included. This sequence has 3
positive edges (transitions from 0 to 1). Therefore, to wake up the system
when 'a' is sent, set wakeup_threshold=3.</p>
<p>The character that triggers wakeup is not received by UART (i.e. it can not
be obtained from UART FIFO). Depending on the baud rate, a few characters
after that will also not be received. Note that when the chip enters and exits
light sleep mode, APB frequency will be changing. To make sure that UART has
correct baud rate all the time, select REF_TICK as UART clock source,
by setting use_ref_tick field in uart_config_t to true.</p>
<p>@note in ESP32, the wakeup signal can only be input via IO_MUX (i.e.
GPIO3 should be configured as function_1 to wake up UART0,
GPIO9 should be configured as function_5 to wake up UART1), UART2
does not support light sleep wakeup feature.</p>
<p>@param uart_num  UART number, the max port number is (UART_NUM_MAX -1).
@param wakeup_threshold  number of RX edges for light sleep wakeup, value is 3 .. 0x3ff.
@return
- ESP_OK on success
- ESP_ERR_INVALID_ARG if uart_num is incorrect or wakeup_threshold is
outside of [3, 0x3ff] range.</p>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "esp_idf_bindgen";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>