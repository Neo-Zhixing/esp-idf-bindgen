<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `vTaskDelayUntil` fn in crate `esp_idf_bindgen`."><meta name="keywords" content="rust, rustlang, rust-lang, vTaskDelayUntil"><title>esp_idf_bindgen::vTaskDelayUntil - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../dark.css"><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="shortcut icon" href="../favicon.ico"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc fn"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../esp_idf_bindgen/index.html'><div class='logo-container'><img src='../rust-logo.png' alt='logo'></div></a><div class="sidebar-elems"><p class='location'><a href='index.html'>esp_idf_bindgen</a></p><script>window.sidebarCurrent = {name: 'vTaskDelayUntil', ty: 'fn', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../src/esp_idf_bindgen/target/xtensa-esp32-none-elf/debug/build/esp-idf-bindgen-2e942cfa70e62027/out/bindings.rs.html#20906' title='goto source code'>[src]</a></span><span class='in-band'>Function <a href='index.html'>esp_idf_bindgen</a>::<wbr><a class="fn" href=''>vTaskDelayUntil</a></span></h1><pre class='rust fn'>pub unsafe extern &quot;C&quot; fn vTaskDelayUntil(<br>&nbsp;&nbsp;&nbsp;&nbsp;pxPreviousWakeTime: *mut <a class="type" href="../esp_idf_bindgen/type.TickType_t.html" title="type esp_idf_bindgen::TickType_t">TickType_t</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;xTimeIncrement: <a class="type" href="../esp_idf_bindgen/type.TickType_t.html" title="type esp_idf_bindgen::TickType_t">TickType_t</a><br>)</pre><div class='docblock'><p>Delay a task until a specified time.</p>
<p>INCLUDE_vTaskDelayUntil must be defined as 1 for this function to be available.
See the configuration section for more information.</p>
<p>This function can be used by periodic tasks to ensure a constant execution frequency.</p>
<p>This function differs from vTaskDelay () in one important aspect:  vTaskDelay () will
cause a task to block for the specified number of ticks from the time vTaskDelay () is
called.  It is therefore difficult to use vTaskDelay () by itself to generate a fixed
execution frequency as the time between a task starting to execute and that task
calling vTaskDelay () may not be fixed [the task may take a different path though the
code between calls, or may get interrupted or preempted a different number of times
each time it executes].</p>
<p>Whereas vTaskDelay () specifies a wake time relative to the time at which the function
is called, vTaskDelayUntil () specifies the absolute (exact) time at which it wishes to
unblock.</p>
<p>The constant portTICK_PERIOD_MS can be used to calculate real time from the tick
rate - with the resolution of one tick period.</p>
<p>@param pxPreviousWakeTime Pointer to a variable that holds the time at which the
task was last unblocked.  The variable must be initialised with the current time
prior to its first use (see the example below).  Following this the variable is
automatically updated within vTaskDelayUntil ().</p>
<p>@param xTimeIncrement The cycle time period.  The task will be unblocked at
time *pxPreviousWakeTime + xTimeIncrement.  Calling vTaskDelayUntil with the
same xTimeIncrement parameter value will cause the task to execute with
a fixed interface period.</p>
<p>Example usage:
@code{c}
// Perform an action every 10 ticks.
void vTaskFunction( void * pvParameters )
{
TickType_t xLastWakeTime;
const TickType_t xFrequency = 10;</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
 <span class="comment">// Initialise the xLastWakeTime variable with the current time.</span>
 <span class="ident">xLastWakeTime</span> <span class="op">=</span> <span class="ident">xTaskGetTickCount</span> ();
 <span class="kw">for</span>( ;; )
 {
	 <span class="comment">// Wait for the next cycle.</span>
	 <span class="ident">vTaskDelayUntil</span>( <span class="kw-2">&amp;</span><span class="ident">xLastWakeTime</span>, <span class="ident">xFrequency</span> );

	 <span class="comment">// Perform action here.</span>
 }</pre></div>
<p>}
@endcode
\ingroup TaskCtrl</p>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../";window.currentCrate = "esp_idf_bindgen";</script><script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>